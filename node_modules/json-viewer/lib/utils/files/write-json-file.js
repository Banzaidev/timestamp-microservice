'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.writeJsonFile = undefined;

var _ramda = require('ramda');

var _ramda2 = _interopRequireDefault(_ramda);

var _path = require('path');

var _fsJetpack = require('fs-jetpack');

var _fsJetpack2 = _interopRequireDefault(_fsJetpack);

var _console = require('../console');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var writeJsonFile = exports.writeJsonFile = function writeJsonFile(filepath) {
  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  var isString = typeof filepath === 'string';
  var normalizedPath = isString && filepath && (0, _path.normalize)(filepath);
  var isNil = _ramda2.default.isNil(normalizedPath);

  if (!isString || isNil) {
    return null;
  } else {
    try {
      _fsJetpack2.default.write(normalizedPath, data);
    } catch (error) {
      (0, _console.warn)('File ' + normalizedPath + ' cannot be written.');
      (0, _console.warn)(error);

      return null;
    }
  }
};