'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.readJsonFile = undefined;

var _ramda = require('ramda');

var _ramda2 = _interopRequireDefault(_ramda);

var _path = require('path');

var _fsJetpack = require('fs-jetpack');

var _fsJetpack2 = _interopRequireDefault(_fsJetpack);

var _console = require('../console');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var readJsonFile = exports.readJsonFile = function readJsonFile(filepath) {
  var normalizedPath = filepath && (0, _path.normalize)(filepath);
  var isNil = _ramda2.default.isNil(normalizedPath);
  var isString = typeof normalizedPath === 'string';
  var isUnreadable = isString && _fsJetpack2.default.exists(normalizedPath) !== 'file';

  if (!isString || isNil || isUnreadable) {
    return null;
  } else {
    try {
      var fileContents = _fsJetpack2.default.read(normalizedPath, 'json');

      return fileContents;
    } catch (error) {
      (0, _console.warn)('File ' + normalizedPath + ' cannot be read.');
      (0, _console.warn)(error);

      return null;
    }
  }
};